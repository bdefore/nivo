!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("react"),require("@nivo/core"),require("@nivo/arcs"),require("@nivo/tooltip"),require("react/jsx-runtime"),require("d3-hierarchy"),require("lodash/cloneDeep"),require("lodash/sortBy"),require("@nivo/colors")):"function"==typeof define&&define.amd?define(["exports","react","@nivo/core","@nivo/arcs","@nivo/tooltip","react/jsx-runtime","d3-hierarchy","lodash/cloneDeep","lodash/sortBy","@nivo/colors"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self).nivo=e.nivo||{},e.React,e.nivo,e.nivo,e.nivo,e["react/jsx-runtime"],e.d3,e["lodash/cloneDeep"],e["lodash/sortBy"],e.nivo)}(this,(function(e,r,o,t,n,i,a,l,s,c){"use strict";function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=d(l),v=d(s);function f(){return f=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e},f.apply(this,arguments)}var h={id:"id",value:"value",cornerRadius:0,layers:["arcs","arcLabels"],colors:{scheme:"nivo"},colorBy:"id",inheritColorFromParent:!0,childColor:{from:"color"},borderWidth:1,borderColor:"white",enableArcLabels:!1,arcLabel:"formattedValue",arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:0,arcLabelsTextColor:{theme:"labels.text.fill"},animate:!0,motionConfig:"gentle",transitionMode:"innerRadius",isInteractive:!0,defs:[],fill:[],tooltip:function(e){var r=e.id,o=e.formattedValue,t=e.color;return i.jsx(n.BasicTooltip,{id:r,value:o,enableChip:!0,color:t})},role:"img"},p=function(e){var n=e.data,i=e.id,l=void 0===i?h.id:i,s=e.value,d=void 0===s?h.value:s,f=e.valueFormat,p=e.radius,m=e.cornerRadius,b=void 0===m?h.cornerRadius:m,C=e.colors,y=void 0===C?h.colors:C,M=e.colorBy,g=void 0===M?h.colorBy:M,L=e.inheritColorFromParent,x=void 0===L?h.inheritColorFromParent:L,j=e.childColor,R=void 0===j?h.childColor:j,A=o.useTheme(),F=c.useOrdinalColorScale(y,g),W=c.useInheritedColor(R,A),I=o.usePropertyAccessor(l),P=o.usePropertyAccessor(d),q=o.useValueFormatter(f),O=r.useMemo((function(){var e,r=u.default(n),o=a.hierarchy(r).sum(P),t=a.partition().size([2*Math.PI,p*p])(o).descendants().slice(1),i=null!=(e=o.value)?e:0;return v.default(t,"depth").reduce((function(e,r){var o,t=I(r.data),n=r.value,a=100*n/i,l=r.ancestors().map((function(e){return I(e.data)})),s={startAngle:r.x0,endAngle:r.x1,innerRadius:Math.sqrt(r.y0),outerRadius:Math.sqrt(r.y1)};r.parent&&(o=e.find((function(e){return e.id===I(r.parent.data)})));var c={id:t,path:l,value:n,percentage:a,formattedValue:f?q(n):a.toFixed(2)+"%",color:"",arc:s,data:r.data,depth:r.depth,height:r.height};return x&&o&&c.depth>1?c.color=W(o,c):c.color=F(c),[].concat(e,[c])}),[])}),[n,p,P,I,f,q,F,x,W]);return{arcGenerator:t.useArcGenerator({cornerRadius:b}),nodes:O}},m=function(e){var o=e.nodes,t=e.arcGenerator,n=e.centerX,i=e.centerY,a=e.radius;return r.useMemo((function(){return{nodes:o,arcGenerator:t,centerX:n,centerY:i,radius:a}}),[o,t,n,i,a])},b=function(e){var o=e.center,a=e.data,l=e.arcGenerator,s=e.borderWidth,c=e.borderColor,d=e.isInteractive,u=e.onClick,v=e.onMouseEnter,f=e.onMouseMove,h=e.onMouseLeave,p=e.tooltip,m=e.transitionMode,b=n.useTooltip(),C=b.showTooltipFromEvent,y=b.hideTooltip,M=r.useMemo((function(){if(d)return function(e,r){null==u||u(e,r)}}),[d,u]),g=r.useMemo((function(){if(d)return function(e,o){C(r.createElement(p,e),o),null==v||v(e,o)}}),[d,C,p,v]),L=r.useMemo((function(){if(d)return function(e,o){C(r.createElement(p,e),o),null==f||f(e,o)}}),[d,C,p,f]),x=r.useMemo((function(){if(d)return function(e,r){y(),null==h||h(e,r)}}),[d,y,h]);return i.jsx(t.ArcsLayer,{center:o,data:a,arcGenerator:l,borderWidth:s,borderColor:c,transitionMode:m,onClick:M,onMouseEnter:g,onMouseMove:L,onMouseLeave:x})},C=["isInteractive","animate","motionConfig","theme","renderWrapper"],y=function(e){var n=e.data,a=e.id,l=void 0===a?h.id:a,s=e.value,c=void 0===s?h.value:s,d=e.valueFormat,u=e.cornerRadius,v=void 0===u?h.cornerRadius:u,f=e.layers,C=void 0===f?h.layers:f,y=e.colors,M=void 0===y?h.colors:y,g=e.colorBy,L=void 0===g?h.colorBy:g,x=e.inheritColorFromParent,j=void 0===x?h.inheritColorFromParent:x,R=e.childColor,A=void 0===R?h.childColor:R,F=e.borderWidth,W=void 0===F?h.borderWidth:F,I=e.borderColor,P=void 0===I?h.borderColor:I,q=e.margin,O=e.width,B=e.height,T=e.enableArcLabels,k=void 0===T?h.enableArcLabels:T,G=e.arcLabel,S=void 0===G?h.arcLabel:G,E=e.arcLabelsRadiusOffset,w=void 0===E?h.arcLabelsRadiusOffset:E,D=e.arcLabelsSkipAngle,X=void 0===D?h.arcLabelsSkipAngle:D,Y=e.arcLabelsTextColor,V=void 0===Y?h.arcLabelsTextColor:Y,K=e.arcLabelsComponent,H=e.defs,_=void 0===H?h.defs:H,z=e.fill,J=void 0===z?h.fill:z,N=e.transitionMode,Q=void 0===N?h.transitionMode:N,U=e.isInteractive,Z=void 0===U?h.isInteractive:U,$=e.onClick,ee=e.onMouseEnter,re=e.onMouseLeave,oe=e.onMouseMove,te=e.tooltip,ne=void 0===te?h.tooltip:te,ie=e.role,ae=void 0===ie?h.role:ie,le=o.useDimensions(O,B,q),se=le.innerHeight,ce=le.innerWidth,de=le.margin,ue=le.outerHeight,ve=le.outerWidth,fe=r.useMemo((function(){return{radius:Math.min(ce,se)/2,centerX:ce/2,centerY:se/2}}),[se,ce]),he=fe.centerX,pe=fe.centerY,me=fe.radius,be=p({data:n,id:l,value:c,valueFormat:d,radius:me,cornerRadius:v,colors:M,colorBy:L,inheritColorFromParent:j,childColor:A}),Ce=be.arcGenerator,ye=be.nodes,Me=o.bindDefs(_,ye,J,{dataKey:".",colorKey:"color",targetKey:"fill"}),ge={arcs:null,arcLabels:null};C.includes("arcs")&&(ge.arcs=i.jsx(b,{center:[he,pe],data:ye,arcGenerator:Ce,borderWidth:W,borderColor:P,transitionMode:Q,isInteractive:Z,tooltip:ne,onClick:$,onMouseEnter:ee,onMouseLeave:re,onMouseMove:oe},"arcs")),k&&C.includes("arcLabels")&&(ge.arcLabels=i.jsx(t.ArcLabelsLayer,{center:[he,pe],data:ye,label:S,radiusOffset:w,skipAngle:X,textColor:V,transitionMode:Q,component:K},"arcLabels"));var Le=m({nodes:ye,arcGenerator:Ce,centerX:he,centerY:pe,radius:me});return i.jsx(o.SvgWrapper,{width:ve,height:ue,defs:Me,margin:de,role:ae,children:C.map((function(e,o){return void 0!==ge[e]?ge[e]:"function"==typeof e?i.jsx(r.Fragment,{children:r.createElement(e,Le)},o):null}))})},M=function(e){var r=e.isInteractive,t=void 0===r?h.isInteractive:r,n=e.animate,a=void 0===n?h.animate:n,l=e.motionConfig,s=void 0===l?h.motionConfig:l,c=e.theme,d=e.renderWrapper,u=function(e,r){if(null==e)return{};var o,t,n={},i=Object.keys(e);for(t=0;t<i.length;t++)o=i[t],r.indexOf(o)>=0||(n[o]=e[o]);return n}(e,C);return i.jsx(o.Container,{isInteractive:t,animate:a,motionConfig:s,theme:c,renderWrapper:d,children:i.jsx(y,f({isInteractive:t},u))})};e.ResponsiveSunburst=function(e){return i.jsx(o.ResponsiveWrapper,{children:function(r){var o=r.width,t=r.height;return i.jsx(M,f({width:o,height:t},e))}})},e.Sunburst=M,e.defaultProps=h,e.useSunburst=p,e.useSunburstLayerContext=m,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=nivo-sunburst.umd.js.map
