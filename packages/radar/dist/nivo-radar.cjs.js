"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=require("@nivo/core"),t=require("@nivo/legends"),n=require("@react-spring/web"),o=require("d3-shape"),a=require("@nivo/colors"),i=require("react/jsx-runtime"),l=require("@nivo/tooltip"),d=require("d3-scale");function s(){return s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},s.apply(this,arguments)}function u(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}var c=function(t){var l,d=t.data,s=t.item,u=t.colorByKey,c=t.fillByKey,f=t.radiusScale,m=t.angleStep,g=t.curveFactory,v=t.borderWidth,y=t.borderColor,h=t.fillOpacity,p=t.blendMode,b=r.useTheme(),x=a.useInheritedColor(y,b),j=e.useMemo((function(){return o.lineRadial().radius((function(e){return f(e)})).angle((function(e,r){return r*m})).curve(g)}),[f,m,g]),S=r.useMotionConfig(),M=S.animate,L=S.config,B=r.useAnimatedPath(j(d.map((function(e){return e[s]})))),C=n.useSpring({fill:u[s],stroke:x({key:s,color:u[s]}),config:L,immediate:!M}),k=null!=(l=c[s])?l:C.fill;return i.jsx(n.animated.path,{d:B,fill:k,fillOpacity:h,stroke:C.stroke,strokeWidth:v,style:{mixBlendMode:p}},s)},f=function(t){var o=t.radius,a=t.angles,l=t.indices,d=t.label,u=t.labelOffset,c=r.useMotionConfig(),f=c.animate,m=c.config,g=l.map((function(e,t){var n,i,l=r.positionFromAngle(a[t],o+u),d=(n=a[t],(i=r.radiansToDegrees(n)+90)<=10||i>=350||i>=170&&i<=190?"middle":i>180?"end":"start");return s({id:e,angle:r.radiansToDegrees(a[t]),anchor:d},l)})),v=n.useSprings(g.length,g.map((function(e){return{transform:"translate("+e.x+", "+e.y+")",config:m,immediate:!f}})));return i.jsx(i.Fragment,{children:v.map((function(r,t){var n=g[t];return e.createElement(d,{key:n.id,id:n.id,anchor:n.anchor,angle:n.angle,x:n.x,y:n.y,animated:r})}))})},m=["shape"],g=e.memo((function(e){var t=e.radius,o=r.useTheme(),a=r.useMotionConfig(),l=a.animate,d=a.config,u=n.useSpring({radius:t,config:d,immediate:!l});return i.jsx(n.animated.circle,s({fill:"none",r:n.to(u.radius,(function(e){return Math.max(e,0)}))},o.grid.line))})),v=function(t){var a=t.radius,l=t.angleStep,d=t.dataLength,u=r.useTheme(),c=e.useMemo((function(){return o.lineRadial().angle((function(e){return e*l})).radius(a).curve(o.curveLinearClosed)}),[l,a]),f=Array.from({length:d},(function(e,r){return r})),m=r.useAnimatedPath(c(f));return i.jsx(n.animated.path,s({fill:"none",d:m},u.grid.line))},y=function(e){var r=e.shape,t=u(e,m);return"circular"===r?i.jsx(g,{radius:t.radius}):i.jsx(v,s({},t))},h=function(t){var n=t.indices,o=t.levels,a=t.shape,l=t.radius,d=t.angleStep,u=t.label,c=t.labelOffset,m=r.useTheme(),g=e.useMemo((function(){return{radii:Array.from({length:o}).map((function(e,r){return l/o*(r+1)})).reverse(),angles:Array.from({length:n.length},(function(e,r){return r*d-Math.PI/2}))}}),[n,o,l,d]),v=g.radii,h=g.angles;return i.jsxs(i.Fragment,{children:[h.map((function(e,t){var n=r.positionFromAngle(e,l);return i.jsx("line",s({x1:0,y1:0,x2:n.x,y2:n.y},m.grid.line),"axis."+t)})),v.map((function(e,r){return i.jsx(y,{shape:a,radius:e,angleStep:d,dataLength:n.length},"level."+r)})),i.jsx(f,{radius:l,angles:h,indices:n,labelOffset:c,label:u})]})},p=function(t){var n=t.datum,o=t.keys,a=t.index,d=t.formatValue,s=t.colorByKey,u=t.radius,c=t.startAngle,f=t.endAngle,m=t.arcGenerator,g=t.tooltip,v=e.useState(!1),y=v[0],h=v[1],p=r.useTheme(),b=l.useTooltip(),x=b.showTooltipFromEvent,j=b.hideTooltip,S=e.useMemo((function(){var e=o.map((function(e){return{color:s[e],id:e,value:n[e],formattedValue:d(n[e],e)}}));return e.sort((function(e,r){return e.value-r.value})),e.reverse(),e}),[n,o,d,s]),M=e.useCallback((function(r){h(!0),x(e.createElement(g,{index:a,data:S}),r)}),[x,g,a,S]),L=e.useCallback((function(){h(!1),j()}),[j,h]),B=e.useMemo((function(){var e=r.positionFromAngle(c+.5*(f-c)-Math.PI/2,u);return{path:m({startAngle:c,endAngle:f}),tipX:e.x,tipY:e.y}}),[c,f,u,m]),C=B.path,k=B.tipX,O=B.tipY;return i.jsxs(i.Fragment,{children:[y&&i.jsx("line",{x1:0,y1:0,x2:k,y2:O,style:p.crosshair.line}),i.jsx("path",{d:C,fill:"#F00",fillOpacity:0,onMouseEnter:M,onMouseMove:M,onMouseLeave:L})]})},b=function(e){var r=e.data,t=e.keys,n=e.getIndex,a=e.formatValue,l=e.colorByKey,d=e.radius,s=e.angleStep,u=e.tooltip,c=o.arc().outerRadius(d).innerRadius(0),f=-(.5*s);return i.jsx(i.Fragment,{children:r.map((function(e){var r=n(e),o=f,m=o+s;return f+=s,i.jsx(p,{datum:e,keys:t,index:r,formatValue:a,colorByKey:l,startAngle:o,endAngle:m,radius:d,arcGenerator:c,tooltip:u},r)}))})},x=function(t){var n=t.data,o=t.keys,l=t.getIndex,d=t.colorByKey,u=t.radiusScale,c=t.angleStep,f=t.symbol,m=t.size,g=void 0===m?6:m,v=t.color,y=void 0===v?{from:"color"}:v,h=t.borderWidth,p=void 0===h?0:h,b=t.borderColor,x=void 0===b?{from:"color"}:b,j=t.enableLabel,S=void 0!==j&&j,M=t.label,L=void 0===M?"value":M,B=t.formatValue,C=t.labelYOffset,k=r.useTheme(),O=a.getInheritedColorGenerator(y,k),I=a.getInheritedColorGenerator(x,k),F=r.usePropertyAccessor(L),D=e.useMemo((function(){return n.reduce((function(e,t,n){var a=l(t);return o.forEach((function(o){var i=t[o],l={index:a,key:o,value:i,formattedValue:B(i,o),color:d[o]};e.push({key:o+"."+a,label:S?F(l):void 0,style:s({fill:O(l),stroke:I(l)},r.positionFromAngle(c*n-Math.PI/2,u(t[o]))),data:l})})),e}),[])}),[n,o,l,d,S,F,B,O,I,c,u]);return i.jsx(i.Fragment,{children:D.map((function(e){return i.jsx(r.DotsItem,{x:e.style.x,y:e.style.y,symbol:f,size:g,color:e.style.fill,borderWidth:p,borderColor:e.style.stroke,label:e.label,labelYOffset:C,datum:e.data},e.key)}))})},j={layers:["grid","layers","slices","dots","legends"],maxValue:"auto",curve:"linearClosed",borderWidth:2,borderColor:{from:"color"},gridLevels:5,gridShape:"circular",gridLabelOffset:16,gridLabel:function(e){var t=e.id,o=e.anchor,a=e.animated,l=r.useTheme();return i.jsx(n.animated.g,{transform:a.transform,children:i.jsx("text",{style:l.axis.ticks.text,dominantBaseline:"central",textAnchor:o,children:t})})},enableDots:!0,dotSize:6,dotColor:{from:"color"},dotBorderWidth:0,dotBorderColor:{from:"color"},enableDotLabel:!1,dotLabel:"formattedValue",dotLabelYOffset:-12,colors:{scheme:"nivo"},fillOpacity:.25,blendMode:"normal",isInteractive:!0,sliceTooltip:function(r){var t=r.index,n=r.data,o=e.useMemo((function(){return n.map((function(e){return[i.jsx(l.Chip,{color:e.color},e.id),e.id,e.formattedValue]}))}),[n]);return i.jsx(l.TableTooltip,{title:i.jsx("strong",{children:t}),rows:o})},legends:[],role:"img",animate:!0,motionConfig:"gentle",defs:[],fill:[]},S=["data"],M=function(t){var n=t.data,o=t.keys,i=t.indexBy,l=t.maxValue,c=t.valueFormat,f=t.curve,m=t.width,g=t.height,v=t.colors,y=void 0===v?j.colors:v,h=t.legends,p=t.defs,b=t.fill,x=r.usePropertyAccessor(i),M=e.useMemo((function(){return n.map(x)}),[n,x]),L=r.useValueFormatter(c),B=a.useOrdinalColorScale(y,"key"),C=e.useMemo((function(){return o.reduce((function(e,r,t){return e[r]=B({key:r,index:t}),e}),{})}),[o,B]),k=e.useMemo((function(){var e=o.map((function(e){return{key:e,color:C[e],data:n,fill:null}})),t=r.bindDefs(p,e,b),a=e.reduce((function(e,r){var t=r.key,n=r.fill;return e[t]=n,e}),{});return{boundDefs:t,fillByKey:a}}),[o,n,p,b,C]),O=k.boundDefs,I=k.fillByKey,F=e.useMemo((function(){var e=n.reduce((function(e,r){return[].concat(e,o.map((function(e){return r[e]})))}),[]),r="auto"!==l?l:Math.max.apply(Math,e),t=Math.min(m,g)/2;return{radius:t,radiusScale:d.scaleLinear().range([0,t]).domain([0,r]),centerX:m/2,centerY:g/2,angleStep:2*Math.PI/n.length}}),[o,n,l,m,g]),D=F.radius,W=F.radiusScale,A=F.centerX,V=F.centerY,K=F.angleStep,T=r.useCurveInterpolation(f),P=e.useMemo((function(){return{data:n,keys:o,indices:M,colorByKey:C,centerX:A,centerY:V,radiusScale:W,angleStep:K}}),[n,o,M,C,A,V,W,K]),Y=e.useMemo((function(){return o.map((function(e){return{id:e,label:e,color:C[e]}}))}),[o,C]),w=e.useMemo((function(){return h.map((function(e){var r=e.data,t=u(e,S),n=null==r?void 0:r.map((function(e){return s({},Y.find((function(r){return r.id===e.id}))||{},e)}));return s({},t,{data:n||Y})}))}),[h,Y]);return{getIndex:x,indices:M,formatValue:L,colorByKey:C,fillByKey:I,boundDefs:O,radius:D,radiusScale:W,centerX:A,centerY:V,angleStep:K,curveFactory:T,legendData:Y,boundLegends:w,customLayerProps:P}},L=["isInteractive","animate","motionConfig","theme","renderWrapper"],B=function(n){var o=n.data,a=n.keys,l=n.indexBy,d=n.layers,u=void 0===d?j.layers:d,f=n.maxValue,m=void 0===f?j.maxValue:f,g=n.valueFormat,v=n.curve,y=void 0===v?j.curve:v,p=n.margin,S=n.width,L=n.height,B=n.borderWidth,C=void 0===B?j.borderWidth:B,k=n.borderColor,O=void 0===k?j.borderColor:k,I=n.gridLevels,F=void 0===I?j.gridLevels:I,D=n.gridShape,W=void 0===D?j.gridShape:D,A=n.gridLabel,V=void 0===A?j.gridLabel:A,K=n.gridLabelOffset,T=void 0===K?j.gridLabelOffset:K,P=n.enableDots,Y=void 0===P?j.enableDots:P,w=n.dotSymbol,q=n.dotSize,R=void 0===q?j.dotSize:q,X=n.dotColor,z=void 0===X?j.dotColor:X,E=n.dotBorderWidth,G=void 0===E?j.dotBorderWidth:E,H=n.dotBorderColor,_=void 0===H?j.dotBorderColor:H,J=n.enableDotLabel,N=void 0===J?j.enableDotLabel:J,Q=n.dotLabel,U=void 0===Q?j.dotLabel:Q,Z=n.dotLabelYOffset,$=void 0===Z?j.dotLabelYOffset:Z,ee=n.colors,re=void 0===ee?j.colors:ee,te=n.fillOpacity,ne=void 0===te?j.fillOpacity:te,oe=n.blendMode,ae=void 0===oe?j.blendMode:oe,ie=n.isInteractive,le=void 0===ie?j.isInteractive:ie,de=n.sliceTooltip,se=void 0===de?j.sliceTooltip:de,ue=n.legends,ce=void 0===ue?j.legends:ue,fe=n.role,me=n.ariaLabel,ge=n.ariaLabelledBy,ve=n.ariaDescribedBy,ye=n.defs,he=void 0===ye?j.defs:ye,pe=n.fill,be=void 0===pe?j.fill:pe,xe=r.useDimensions(S,L,p),je=xe.margin,Se=xe.innerWidth,Me=xe.innerHeight,Le=xe.outerWidth,Be=xe.outerHeight,Ce=M({data:o,keys:a,indexBy:l,maxValue:m,valueFormat:g,curve:y,width:Se,height:Me,colors:re,legends:ce,defs:he,fill:be}),ke=Ce.getIndex,Oe=Ce.indices,Ie=Ce.formatValue,Fe=Ce.colorByKey,De=Ce.fillByKey,We=Ce.boundDefs,Ae=Ce.radius,Ve=Ce.radiusScale,Ke=Ce.centerX,Te=Ce.centerY,Pe=Ce.angleStep,Ye=Ce.curveFactory,we=Ce.boundLegends,qe=Ce.customLayerProps,Re={grid:null,layers:null,slices:null,dots:null,legends:null};return u.includes("grid")&&(Re.grid=i.jsx("g",{transform:"translate("+Ke+", "+Te+")",children:i.jsx(h,{levels:F,shape:W,radius:Ae,angleStep:Pe,indices:Oe,label:V,labelOffset:T})},"grid")),u.includes("layers")&&(Re.layers=i.jsx("g",{transform:"translate("+Ke+", "+Te+")",children:a.map((function(e){return i.jsx(c,{data:o,item:e,colorByKey:Fe,fillByKey:De,radiusScale:Ve,angleStep:Pe,curveFactory:Ye,borderWidth:C,borderColor:O,fillOpacity:ne,blendMode:ae},e)}))},"layers")),u.includes("slices")&&le&&(Re.slices=i.jsx("g",{transform:"translate("+Ke+", "+Te+")",children:i.jsx(b,{data:o,keys:a,getIndex:ke,formatValue:Ie,colorByKey:Fe,radius:Ae,angleStep:Pe,tooltip:se})},"slices")),u.includes("dots")&&Y&&(Re.dots=i.jsx("g",{transform:"translate("+Ke+", "+Te+")",children:i.jsx(x,{data:o,keys:a,getIndex:ke,radiusScale:Ve,angleStep:Pe,symbol:w,size:R,colorByKey:Fe,color:z,borderWidth:G,borderColor:_,enableLabel:N,label:U,formatValue:Ie,labelYOffset:$})},"dots")),u.includes("legends")&&(Re.legends=i.jsx(e.Fragment,{children:we.map((function(e,r){return i.jsx(t.BoxLegendSvg,s({},e,{containerWidth:S,containerHeight:L}),r)}))},"legends")),i.jsx(r.SvgWrapper,{defs:We,width:Le,height:Be,margin:je,role:fe,ariaLabel:me,ariaLabelledBy:ge,ariaDescribedBy:ve,children:u.map((function(r,t){var n;return"function"==typeof r?i.jsx(e.Fragment,{children:e.createElement(r,qe)},t):null!=(n=null==Re?void 0:Re[r])?n:null}))})},C=function(e){var t=e.isInteractive,n=void 0===t?j.isInteractive:t,o=e.animate,a=void 0===o?j.animate:o,l=e.motionConfig,d=void 0===l?j.motionConfig:l,c=e.theme,f=e.renderWrapper,m=u(e,L);return i.jsx(r.Container,{animate:a,isInteractive:n,motionConfig:d,renderWrapper:f,theme:c,children:i.jsx(B,s({isInteractive:n},m))})};exports.Radar=C,exports.RadarDots=x,exports.ResponsiveRadar=function(e){return i.jsx(r.ResponsiveWrapper,{children:function(r){var t=r.width,n=r.height;return i.jsx(C,s({width:t,height:n},e))}})},exports.svgDefaultProps=j;
//# sourceMappingURL=nivo-radar.cjs.js.map
