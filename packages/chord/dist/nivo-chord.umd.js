!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("react"),require("@nivo/core"),require("@nivo/legends"),require("@nivo/tooltip"),require("react/jsx-runtime"),require("@nivo/colors"),require("@react-spring/web"),require("d3-shape"),require("d3-chord"),require("@nivo/arcs")):"function"==typeof define&&define.amd?define(["exports","react","@nivo/core","@nivo/legends","@nivo/tooltip","react/jsx-runtime","@nivo/colors","@react-spring/web","d3-shape","d3-chord","@nivo/arcs"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self).nivo=e.nivo||{},e.React,e.nivo,e.nivo,e.nivo,e["react/jsx-runtime"],e.nivo,e["@react-spring/web"],e.d3,e.d3,e.nivo)}(this,(function(e,r,o,n,t,i,a,c,l,s,u){"use strict";function d(){return d=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},d.apply(this,arguments)}function b(e,r){if(null==e)return{};var o,n,t={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],r.indexOf(o)>=0||(t[o]=e[o]);return t}var v=r.memo((function(e){var r=e.arc;return i.jsx(t.BasicTooltip,{id:r.label,value:r.formattedValue,color:r.color,enableChip:!0})})),f=r.memo((function(e){var r=e.ribbon;return i.jsx(t.TableTooltip,{rows:[[i.jsx(t.Chip,{color:r.source.color},"chip"),i.jsx("strong",{children:r.source.label},"id"),r.source.formattedValue],[i.jsx(t.Chip,{color:r.target.color},"chip"),i.jsx("strong",{children:r.target.label},"id"),r.target.formattedValue]]})})),g={layers:["ribbons","arcs","labels","legends"],padAngle:0,innerRadiusRatio:.9,innerRadiusOffset:0,colors:{scheme:"nivo"},arcOpacity:1,activeArcOpacity:1,inactiveArcOpacity:.15,arcBorderWidth:1,arcBorderColor:{from:"color",modifiers:[["darker",.4]]},arcTooltip:v,ribbonOpacity:.5,activeRibbonOpacity:.85,inactiveRibbonOpacity:.15,ribbonBorderWidth:1,ribbonBorderColor:{from:"color",modifiers:[["darker",.4]]},ribbonBlendMode:"normal",enableLabel:!0,label:"id",labelOffset:12,labelRotation:0,labelTextColor:{from:"color",modifiers:[["darker",1]]},isInteractive:!0,legends:[],animate:!0,motionConfig:"gentle",role:"img"},p=d({},g,{ribbonBlendMode:"normal",ribbonTooltip:f}),h=d({},g,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),m=function(e){var r=e.padAngle;return s.chord().padAngle(r)},y=function(e){var r=e.width,o=e.height,n=e.innerRadiusRatio,t=e.innerRadiusOffset,i=[r/2,o/2],a=Math.min(r,o)/2,c=a*n,u=a*(n-t);return{center:i,radius:a,innerRadius:c,arcGenerator:l.arc().outerRadius(a).innerRadius(c),ribbonGenerator:s.ribbon().radius(u)}},A=function(e){var r=e.chord,o=e.data,n=e.keys,t=e.getLabel,i=e.formatValue,a=e.getColor,c=r(o);return{arcs:c.groups.map((function(e){var r=d({},e,{id:n[e.index],formattedValue:i(e.value)});return d({},r,{label:t(r),color:a(r)})})),ribbons:c.map((function(e){var r=d({},e.source,{id:n[e.source.index],formattedValue:i(e.source.value)}),o=d({},e.target,{id:n[e.target.index],formattedValue:i(e.target.value)});return d({},e,{id:[r.id,o.id].sort().join("."),source:d({},r,{label:t(r),color:a(r)}),target:d({},o,{label:t(o),color:a(o)})})}))}},C=function(e){var r=e.startAngle,o=e.endAngle,n=e.arcGenerator;return c.to([r,o],(function(e,r){return n({startAngle:e,endAngle:r})}))},R=function(e){var r=e.sourceStartAngle,o=e.sourceEndAngle,n=e.targetStartAngle,t=e.targetEndAngle,i=e.ribbonGenerator;return c.to([r,o,n,t],(function(e,r,o,n){return i({source:{startAngle:Math.min(e,r),endAngle:Math.max(r,e)},target:{startAngle:Math.min(o,n),endAngle:Math.max(n,o)}})}))},M=function(e){var o=e.padAngle;return r.useMemo((function(){return m({padAngle:o})}),[o])},O=function(e){var o=e.width,n=e.height,t=e.innerRadiusRatio,i=e.innerRadiusOffset;return r.useMemo((function(){return y({width:o,height:n,innerRadiusRatio:t,innerRadiusOffset:i})}),[o,n,t,i])},x=function(e){var o=e.chord,n=e.getColor,t=e.keys,i=e.data,a=e.getLabel,c=e.formatValue;return r.useMemo((function(){return A({chord:o,data:i,keys:t,getLabel:a,formatValue:c,getColor:n})}),[o,n,t,i,a,c])},E=function(e){var n=e.data,t=e.keys,i=e.label,c=void 0===i?g.label:i,l=e.valueFormat,s=e.width,u=e.height,d=e.innerRadiusRatio,b=void 0===d?g.innerRadiusRatio:d,v=e.innerRadiusOffset,f=void 0===v?g.innerRadiusOffset:v,p=e.padAngle,h=void 0===p?g.padAngle:p,m=e.colors,y=void 0===m?g.colors:m,A=M({padAngle:h}),C=O({width:s,height:u,innerRadiusRatio:b,innerRadiusOffset:f}),R=C.center,E=C.radius,j=C.innerRadius,k=C.arcGenerator,I=C.ribbonGenerator,T=r.useMemo((function(){return o.getLabelGenerator(c)}),[c]),W=o.useValueFormatter(l),B=a.useOrdinalColorScale(y,"id"),L=x({chord:A,getColor:B,keys:t,data:n,getLabel:T,formatValue:W});return{center:R,chord:A,radius:E,innerRadius:j,arcGenerator:k,ribbonGenerator:I,getColor:B,arcs:L.arcs,ribbons:L.ribbons}},j=function(e){var o=e.arcOpacity,n=void 0===o?g.arcOpacity:o,t=e.activeArcOpacity,i=void 0===t?g.activeArcOpacity:t,a=e.inactiveArcOpacity,c=void 0===a?g.inactiveArcOpacity:a,l=e.ribbons,s=e.ribbonOpacity,u=void 0===s?g.ribbonOpacity:s,b=e.activeRibbonOpacity,v=void 0===b?g.activeRibbonOpacity:b,f=e.inactiveRibbonOpacity,p=void 0===f?g.inactiveRibbonOpacity:f,h=r.useState(null),m=h[0],y=h[1],A=r.useState(null),C=A[0],R=A[1],M=r.useMemo((function(){var e=[],r=[];return m&&(e.push(m.id),l.filter((function(e){return e.source.id===m.id||e.target.id===m.id})).forEach((function(e){r.push(e.id)}))),C&&(e.push(C.source.id),e.push(C.target.id),r.push(C.id)),{selectedArcIds:e,selectedRibbonIds:r}}),[m,C,l]),O=M.selectedArcIds.length>1||M.selectedRibbonIds.length>0,x=r.useMemo((function(){return function(e){return O?M.selectedArcIds.includes(e.id)?i:c:n}}),[O,M.selectedArcIds,n,i,c]),E=r.useMemo((function(){return function(e){return O?M.selectedRibbonIds.includes(e.id)?v:p:u}}),[O,M.selectedRibbonIds,u,v,p]);return d({currentArc:m,setCurrentArc:y,currentRibbon:C,setCurrentRibbon:R,hasSelection:O},M,{getArcOpacity:x,getRibbonOpacity:E})},k=function(e){var o=e.center,n=e.radius,t=e.arcs,i=e.arcGenerator,a=e.ribbons,c=e.ribbonGenerator;return r.useMemo((function(){return{center:o,radius:n,arcs:t,arcGenerator:i,ribbons:a,ribbonGenerator:c}}),[o,n,t,i,a,c])},I=r.memo((function(e){var o=e.ribbon,n=e.ribbonGenerator,a=e.animatedProps,l=e.borderWidth,s=e.blendMode,u=e.isInteractive,d=e.setCurrent,b=e.onMouseEnter,v=e.onMouseMove,f=e.onMouseLeave,g=e.onClick,p=e.tooltip,h=t.useTooltip(),m=h.showTooltipFromEvent,y=h.hideTooltip,A=r.useMemo((function(){if(u)return function(e){d(o),m(r.createElement(p,{ribbon:o}),e),null==b||b(o,e)}}),[u,m,p,o,b,d]),C=r.useMemo((function(){if(u)return function(e){m(r.createElement(p,{ribbon:o}),e),null==v||v(o,e)}}),[u,m,p,o,v]),M=r.useMemo((function(){if(u)return function(e){d(null),y(),null==f||f(o,e)}}),[u,y,o,f,d]),O=r.useMemo((function(){if(u&&g)return function(e){return null==g?void 0:g(o,e)}}),[u,o,g]);return i.jsx(c.animated.path,{"data-testid":"ribbon."+o.source.id+"."+o.target.id,d:R({sourceStartAngle:a.sourceStartAngle,sourceEndAngle:a.sourceEndAngle,targetStartAngle:a.targetStartAngle,targetEndAngle:a.targetEndAngle,ribbonGenerator:n}),fill:a.color,opacity:a.opacity,strokeWidth:l,stroke:a.borderColor,style:{mixBlendMode:s},onMouseEnter:A,onMouseMove:C,onMouseLeave:M,onClick:O})})),T=function(e,r){var n,t,i=e.source,a=e.target;if(i.startAngle<a.startAngle?(n=i,t=a):(n=a,t=i),r){var c=o.midAngle(n),l=o.midAngle(t);return{sourceStartAngle:c,sourceEndAngle:c,targetStartAngle:l,targetEndAngle:l}}return{sourceStartAngle:n.startAngle,sourceEndAngle:n.endAngle,targetStartAngle:t.startAngle,targetEndAngle:t.endAngle}},W=r.memo((function(e){var r=e.ribbons,n=e.ribbonGenerator,t=e.borderWidth,l=e.borderColor,s=e.getOpacity,u=e.blendMode,b=e.isInteractive,v=e.setCurrent,f=e.onMouseEnter,g=e.onMouseMove,p=e.onMouseLeave,h=e.onClick,m=e.tooltip,y=o.useMotionConfig(),A=y.animate,C=y.config,R=o.useTheme(),M=a.useInheritedColor(l,R),O=c.useTransition(r,{keys:function(e){return e.id},initial:function(e){return d({},T(e,!1),{color:e.source.color,opacity:s(e),borderColor:M(e.source)})},from:function(e){return d({},T(e,!1),{color:e.source.color,opacity:0,borderColor:M(e.source)})},update:function(e){return d({},T(e,!1),{color:e.source.color,opacity:s(e),borderColor:M(e.source)})},leave:function(e){return d({},T(e,!1),{color:e.source.color,opacity:0,borderColor:M(e.source)})},expires:!0,config:C,immediate:!A});return i.jsx(i.Fragment,{children:O((function(e,r){return i.jsx(I,{ribbon:r,ribbonGenerator:n,animatedProps:e,borderWidth:t,blendMode:u,setCurrent:v,isInteractive:b,tooltip:m,onMouseEnter:f,onMouseMove:g,onMouseLeave:p,onClick:h},r.id)}))})})),B=r.memo((function(e){var o=e.arc,n=e.animatedProps,a=e.borderWidth,l=e.arcGenerator,s=e.setCurrent,u=e.isInteractive,d=e.onMouseEnter,b=e.onMouseMove,v=e.onMouseLeave,f=e.onClick,g=e.tooltip,p=t.useTooltip(),h=p.showTooltipFromEvent,m=p.hideTooltip,y=r.useMemo((function(){if(u)return function(e){s(o),h(r.createElement(g,{arc:o}),e),null==d||d(o,e)}}),[u,h,g,o,d,s]),A=r.useMemo((function(){if(u)return function(e){h(r.createElement(g,{arc:o}),e),null==b||b(o,e)}}),[u,h,g,o,b]),R=r.useMemo((function(){if(u)return function(e){s(null),m(),null==v||v(o,e)}}),[u,m,o,v,s]),M=r.useMemo((function(){if(u&&f)return function(e){return null==f?void 0:f(o,e)}}),[u,o,f]);return i.jsx(c.animated.path,{"data-testid":"arc."+o.id,d:C({startAngle:n.startAngle,endAngle:n.endAngle,arcGenerator:l}),fill:n.color,opacity:n.opacity,strokeWidth:a,stroke:n.borderColor,onMouseEnter:y,onMouseMove:A,onMouseLeave:R,onClick:M})})),L=r.memo((function(e){var r=e.arcs,n=e.borderWidth,t=e.borderColor,l=e.getOpacity,s=e.arcGenerator,u=e.setCurrent,d=e.isInteractive,b=e.onMouseEnter,v=e.onMouseMove,f=e.onMouseLeave,g=e.onClick,p=e.tooltip,h=o.useMotionConfig(),m=h.animate,y=h.config,A=o.useTheme(),C=a.useInheritedColor(t,A),R=c.useTransition(r,{keys:function(e){return e.id},initial:function(e){return{startAngle:e.startAngle,endAngle:e.endAngle,color:e.color,opacity:l(e),borderColor:C(e)}},from:function(e){return{startAngle:e.startAngle,endAngle:e.endAngle,color:e.color,opacity:0,borderColor:C(e)}},update:function(e){return{startAngle:e.startAngle,endAngle:e.endAngle,color:e.color,opacity:l(e),borderColor:C(e)}},leave:function(e){return{startAngle:e.startAngle,endAngle:e.endAngle,color:e.color,opacity:0,borderColor:C(e)}},expires:!0,config:y,immediate:!m});return i.jsx(i.Fragment,{children:R((function(e,r){return i.jsx(B,{arc:r,arcGenerator:s,animatedProps:e,borderWidth:n,setCurrent:u,isInteractive:d,tooltip:p,onMouseEnter:b,onMouseMove:v,onMouseLeave:f,onClick:g},r.id)}))})})),G=r.memo((function(e){var n=e.arcs,t=e.radius,l=e.rotation,s=e.color,u=o.useMotionConfig(),b=u.animate,v=u.config,f=o.useTheme(),g=a.useInheritedColor(s,f),p=r.useMemo((function(){return n.map((function(e){var r=o.midAngle(e),n=o.getPolarLabelProps(t,r,l);return{id:e.id,label:e.label,x:n.x,y:n.y,rotation:n.rotate,color:g(e),textAnchor:n.align,dominantBaseline:n.baseline}}))}),[n,t,l,g]),h=c.useTransition(p,{keys:function(e){return e.id},initial:function(e){return{x:e.x,y:e.y,rotation:e.rotation,color:e.color}},from:function(e){return{x:e.x,y:e.y,rotation:e.rotation,color:e.color}},enter:function(e){return{x:e.x,y:e.y,rotation:e.rotation,color:e.color}},update:function(e){return{x:e.x,y:e.y,rotation:e.rotation,color:e.color}},expires:!0,config:v,immediate:!b});return i.jsx(i.Fragment,{children:h((function(e,r){return i.jsx(c.animated.text,{"data-testid":"label."+r.id,style:d({},f.labels.text,{pointerEvents:"none",fill:e.color}),transform:c.to([e.x,e.y,e.rotation],(function(e,r,o){return"translate("+e+", "+r+") rotate("+o+")"})),textAnchor:r.textAnchor,dominantBaseline:r.dominantBaseline,children:r.label},r.id)}))})})),w=["isInteractive","animate","motionConfig","theme","renderWrapper"],S=function(e){var t=e.data,a=e.keys,c=e.label,l=e.valueFormat,s=e.margin,u=e.width,b=e.height,v=e.innerRadiusRatio,f=void 0===v?p.innerRadiusRatio:v,g=e.innerRadiusOffset,h=void 0===g?p.innerRadiusOffset:g,m=e.padAngle,y=void 0===m?p.padAngle:m,A=e.layers,C=void 0===A?p.layers:A,R=e.colors,M=void 0===R?p.colors:R,O=e.arcBorderWidth,x=void 0===O?p.arcBorderWidth:O,I=e.arcBorderColor,T=void 0===I?p.arcBorderColor:I,B=e.arcOpacity,w=void 0===B?p.arcOpacity:B,S=e.activeArcOpacity,P=void 0===S?p.activeArcOpacity:S,F=e.inactiveArcOpacity,V=void 0===F?p.inactiveArcOpacity:F,q=e.arcTooltip,D=void 0===q?p.arcTooltip:q,H=e.ribbonBorderWidth,_=void 0===H?p.ribbonBorderWidth:H,z=e.ribbonBorderColor,U=void 0===z?p.ribbonBorderColor:z,J=e.ribbonBlendMode,K=void 0===J?p.ribbonBlendMode:J,N=e.ribbonOpacity,Q=void 0===N?p.ribbonOpacity:N,X=e.activeRibbonOpacity,Y=void 0===X?p.activeRibbonOpacity:X,Z=e.inactiveRibbonOpacity,$=void 0===Z?p.inactiveRibbonOpacity:Z,ee=e.ribbonTooltip,re=void 0===ee?p.ribbonTooltip:ee,oe=e.enableLabel,ne=void 0===oe?p.enableLabel:oe,te=e.labelOffset,ie=void 0===te?p.labelOffset:te,ae=e.labelRotation,ce=void 0===ae?p.labelRotation:ae,le=e.labelTextColor,se=void 0===le?p.labelTextColor:le,ue=e.isInteractive,de=void 0===ue?p.isInteractive:ue,be=e.onArcMouseEnter,ve=e.onArcMouseMove,fe=e.onArcMouseLeave,ge=e.onArcClick,pe=e.onRibbonMouseEnter,he=e.onRibbonMouseMove,me=e.onRibbonMouseLeave,ye=e.onRibbonClick,Ae=e.legends,Ce=void 0===Ae?p.legends:Ae,Re=e.role,Me=void 0===Re?p.role:Re,Oe=e.ariaLabel,xe=e.ariaLabelledBy,Ee=e.ariaDescribedBy,je=o.useDimensions(u,b,s),ke=je.margin,Ie=je.innerWidth,Te=je.innerHeight,We=je.outerWidth,Be=je.outerHeight,Le=E({data:t,keys:a,label:c,valueFormat:l,width:Ie,height:Te,innerRadiusRatio:f,innerRadiusOffset:h,padAngle:y,colors:M}),Ge=Le.center,we=Le.radius,Se=Le.arcGenerator,Pe=Le.ribbonGenerator,Fe=Le.arcs,Ve=Le.ribbons,qe=j({arcOpacity:w,activeArcOpacity:P,inactiveArcOpacity:V,ribbons:Ve,ribbonOpacity:Q,activeRibbonOpacity:Y,inactiveRibbonOpacity:$}),De=qe.setCurrentArc,He=qe.setCurrentRibbon,_e=qe.getArcOpacity,ze=qe.getRibbonOpacity,Ue=k({center:Ge,radius:we,arcs:Fe,arcGenerator:Se,ribbons:Ve,ribbonGenerator:Pe});if(we<=0)return null;var Je=Fe.map((function(e){return{id:e.id,label:e.label,color:e.color}})),Ke={ribbons:null,arcs:null,labels:null,legends:null};return C.includes("ribbons")&&(Ke.ribbons=i.jsx("g",{transform:"translate("+Ge[0]+", "+Ge[1]+")",children:i.jsx(W,{ribbons:Ve,ribbonGenerator:Pe,borderWidth:_,borderColor:U,getOpacity:ze,blendMode:K,setCurrent:He,isInteractive:de,onMouseEnter:pe,onMouseMove:he,onMouseLeave:me,onClick:ye,tooltip:re})},"ribbons")),C.includes("arcs")&&(Ke.arcs=i.jsx("g",{transform:"translate("+Ge[0]+", "+Ge[1]+")",children:i.jsx(L,{arcs:Fe,arcGenerator:Se,borderWidth:x,borderColor:T,getOpacity:_e,setCurrent:De,isInteractive:de,onMouseEnter:be,onMouseMove:ve,onMouseLeave:fe,onClick:ge,tooltip:D})},"arcs")),C.includes("labels")&&ne&&(Ke.labels=i.jsx("g",{transform:"translate("+Ge[0]+", "+Ge[1]+")",children:i.jsx(G,{arcs:Fe,radius:we+ie,rotation:ce,color:se})},"labels")),C.includes("legends")&&Ce.length>0&&(Ke.legends=i.jsx(r.Fragment,{children:Ce.map((function(e,r){return i.jsx(n.BoxLegendSvg,d({},e,{containerWidth:Ie,containerHeight:Te,data:Je}),r)}))},"legends")),i.jsx(o.SvgWrapper,{width:We,height:Be,margin:ke,role:Me,ariaLabel:Oe,ariaLabelledBy:xe,ariaDescribedBy:Ee,children:C.map((function(e,o){var n;return"function"==typeof e?i.jsx(r.Fragment,{children:r.createElement(e,Ue)},o):null!=(n=null==Ke?void 0:Ke[e])?n:null}))})},P=function(e){var r=e.isInteractive,n=void 0===r?p.isInteractive:r,t=e.animate,a=void 0===t?p.animate:t,c=e.motionConfig,l=void 0===c?p.motionConfig:c,s=e.theme,u=e.renderWrapper,v=b(e,w);return i.jsx(o.Container,{animate:a,isInteractive:n,motionConfig:l,renderWrapper:u,theme:s,children:i.jsx(S,d({isInteractive:n},v))})},F=["theme","isInteractive","animate","motionConfig","renderWrapper"],V=function(e){var r=e.event,n=e.canvasEl,t=e.center,i=e.margin,a=e.radius,c=e.innerRadius,l=e.arcs,s=o.getRelativeCursor(n,r),d=s[0],b=s[1],v=i.left+t[0],f=i.top+t[1];return u.findArcUnderCursor(v,f,a,c,l,d,b)},q=function(e){var c=e.pixelRatio,l=void 0===c?h.pixelRatio:c,s=e.margin,u=e.data,b=e.keys,v=e.width,f=e.height,g=e.label,p=void 0===g?h.label:g,m=e.valueFormat,y=e.innerRadiusRatio,A=void 0===y?h.innerRadiusRatio:y,C=e.innerRadiusOffset,R=void 0===C?h.innerRadiusOffset:C,M=e.padAngle,O=void 0===M?h.padAngle:M,x=e.layers,I=void 0===x?h.layers:x,T=e.colors,W=void 0===T?h.colors:T,B=e.arcBorderWidth,L=void 0===B?h.arcBorderWidth:B,G=e.arcBorderColor,w=void 0===G?h.arcBorderColor:G,S=e.arcOpacity,P=void 0===S?h.arcOpacity:S,F=e.activeArcOpacity,q=void 0===F?h.activeArcOpacity:F,D=e.inactiveArcOpacity,H=void 0===D?h.inactiveArcOpacity:D,_=e.arcTooltip,z=void 0===_?h.arcTooltip:_,U=e.ribbonBorderWidth,J=void 0===U?h.ribbonBorderWidth:U,K=e.ribbonBorderColor,N=void 0===K?h.ribbonBorderColor:K,Q=e.ribbonOpacity,X=void 0===Q?h.ribbonOpacity:Q,Y=e.activeRibbonOpacity,Z=void 0===Y?h.activeRibbonOpacity:Y,$=e.inactiveRibbonOpacity,ee=void 0===$?h.inactiveRibbonOpacity:$,re=e.enableLabel,oe=void 0===re?h.enableLabel:re,ne=e.labelOffset,te=void 0===ne?h.labelOffset:ne,ie=e.labelRotation,ae=void 0===ie?h.labelRotation:ie,ce=e.labelTextColor,le=void 0===ce?h.labelTextColor:ce,se=e.isInteractive,ue=void 0===se?h.isInteractive:se,de=e.onArcMouseEnter,be=e.onArcMouseMove,ve=e.onArcMouseLeave,fe=e.onArcClick,ge=e.legends,pe=void 0===ge?h.legends:ge,he=r.useRef(null),me=o.useDimensions(v,f,s),ye=me.innerWidth,Ae=me.innerHeight,Ce=me.outerWidth,Re=me.outerHeight,Me=me.margin,Oe=E({data:u,keys:b,label:p,valueFormat:m,width:ye,height:Ae,innerRadiusRatio:A,innerRadiusOffset:R,padAngle:O,colors:W}),xe=Oe.center,Ee=Oe.radius,je=Oe.innerRadius,ke=Oe.arcGenerator,Ie=Oe.ribbonGenerator,Te=Oe.arcs,We=Oe.ribbons,Be=j({arcOpacity:P,activeArcOpacity:q,inactiveArcOpacity:H,ribbons:We,ribbonOpacity:X,activeRibbonOpacity:Z,inactiveRibbonOpacity:ee}),Le=Be.currentArc,Ge=Be.setCurrentArc,we=Be.getArcOpacity,Se=Be.getRibbonOpacity,Pe=o.useTheme(),Fe=a.useInheritedColor(le,Pe),Ve=a.useInheritedColor(w,Pe),qe=a.useInheritedColor(N,Pe),De=k({center:xe,radius:Ee,arcs:Te,arcGenerator:ke,ribbons:We,ribbonGenerator:Ie});r.useEffect((function(){if(null!==he.current){he.current.width=Ce*l,he.current.height=Re*l;var e=he.current.getContext("2d");e.scale(l,l),e.fillStyle=Pe.background,e.fillRect(0,0,Ce,Re),Ee<=0||I.forEach((function(r){if("ribbons"===r&&(e.save(),e.translate(Me.left+xe[0],Me.top+xe[1]),Ie.context(e),We.forEach((function(r){e.save(),e.globalAlpha=Se(r),e.fillStyle=r.source.color,e.beginPath(),Ie(r),e.fill(),J>0&&(e.strokeStyle=qe(r.source),e.lineWidth=J,e.stroke()),e.restore()})),e.restore()),"arcs"===r&&(e.save(),e.translate(Me.left+xe[0],Me.top+xe[1]),ke.context(e),Te.forEach((function(r){e.save(),e.globalAlpha=we(r),e.fillStyle=r.color,e.beginPath(),ke(r),e.fill(),L>0&&(e.strokeStyle=Ve(r),e.lineWidth=L,e.stroke()),e.restore()})),e.restore()),"labels"===r&&!0===oe&&(e.save(),e.translate(Me.left+xe[0],Me.top+xe[1]),e.font=Pe.labels.text.fontSize+"px "+(Pe.labels.text.fontFamily||"sans-serif"),Te.forEach((function(r){var n=o.midAngle(r),t=o.getPolarLabelProps(Ee+te,n,ae);e.save(),e.translate(t.x,t.y),e.rotate(o.degreesToRadians(t.rotate)),e.textAlign=t.align,e.textBaseline=t.baseline,e.fillStyle=Fe(r),e.fillText(r.label,0,0),e.restore()})),e.restore()),"legends"===r){e.save(),e.translate(Me.left,Me.top);var t=Te.map((function(e){return{id:e.id,label:e.label,color:e.color}}));pe.forEach((function(r){n.renderLegendToCanvas(e,d({},r,{data:t,containerWidth:ye,containerHeight:Ae,theme:Pe}))})),e.restore()}"function"==typeof r&&r(e,De)}))}}),[he,ye,Ae,Ce,Re,Me,l,xe,Ee,Pe,I,Te,ke,we,L,Ve,We,Ie,Se,J,qe,oe,te,ae,Fe,pe,De]);var He=t.useTooltip(),_e=He.showTooltipFromEvent,ze=He.hideTooltip,Ue=r.useCallback((function(e){if(null!==he.current){var o=V({event:e,canvasEl:he.current,center:xe,margin:Me,radius:Ee,innerRadius:je,arcs:Te});o?(Ge(o),_e(r.createElement(z,{arc:o}),e),!Le&&de&&de(o,e),be&&be(o,e),Le&&Le.id!==o.id&&ve&&ve(o,e)):(Ge(null),ze(),Le&&ve&&ve(Le,e))}}),[he,xe,Me,Ee,je,Te,Ge,Le,_e,ze,z,de,be,ve]),Je=r.useCallback((function(){Ge(null),ze()}),[Ge,ze]),Ke=r.useCallback((function(e){if(null!==he.current&&fe){var r=V({event:e,canvasEl:he.current,center:xe,margin:Me,radius:Ee,innerRadius:je,arcs:Te});r&&fe(r,e)}}),[he,xe,Me,Ee,je,Te,fe]);return i.jsx("canvas",{ref:he,width:Ce*l,height:Re*l,style:{width:Ce,height:Re,cursor:ue?"auto":"normal"},onMouseEnter:ue?Ue:void 0,onMouseMove:ue?Ue:void 0,onMouseLeave:ue?Je:void 0,onClick:ue?Ke:void 0})},D=function(e){var r=e.theme,n=e.isInteractive,t=void 0===n?h.isInteractive:n,a=e.animate,c=void 0===a?h.animate:a,l=e.motionConfig,s=void 0===l?h.motionConfig:l,u=e.renderWrapper,v=b(e,F);return i.jsx(o.Container,{isInteractive:t,animate:c,motionConfig:s,theme:r,renderWrapper:u,children:i.jsx(q,d({isInteractive:t},v))})};e.Chord=P,e.ChordCanvas=D,e.ResponsiveChord=function(e){return i.jsx(o.ResponsiveWrapper,{children:function(r){var o=r.width,n=r.height;return i.jsx(P,d({},e,{width:o,height:n}))}})},e.ResponsiveChordCanvas=function(e){return i.jsx(o.ResponsiveWrapper,{children:function(r){var o=r.width,n=r.height;return i.jsx(D,d({},e,{width:o,height:n}))}})},e.canvasDefaultProps=h,e.commonDefaultProps=g,e.computeArcPath=C,e.computeChordArcsAndRibbons=A,e.computeChordGenerators=y,e.computeChordLayout=m,e.computeRibbonPath=R,e.svgDefaultProps=p,e.useChord=E,e.useChordArcsAndRibbons=x,e.useChordGenerators=O,e.useChordLayout=M,e.useChordSelection=j,e.useCustomLayerProps=k,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=nivo-chord.umd.js.map
